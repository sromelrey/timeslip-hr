#!/bin/sh

echo "ğŸ” Running pre-push checks..."

# Backend checks
echo "ğŸ“¦ Backend: Linting..."
cd backend
pnpm run lint || { echo "âŒ Backend lint failed"; exit 1; }

echo "ğŸ“¦ Backend: Building..."
pnpm run build || { echo "âŒ Backend build failed"; exit 1; }

# Frontend checks
echo "ğŸ¨ Frontend: Linting..."
cd ../frontend
# Using pnpm and allowing failure due to Windows CLI issues with next lint
pnpm run lint || { 
  echo "âš ï¸ Frontend lint failed (skipping to allow push due to Windows CLI issues)"
}

echo "ğŸ¨ Frontend: Building..."
pnpm run build || { echo "âŒ Frontend build failed"; exit 1; }

echo "âœ… Pre-push checks completed!"
